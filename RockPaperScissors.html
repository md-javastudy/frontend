<html>
<head>
  <meta charset="UTF-8" />
  <title>가위바위보</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    class RockPaperScissors extends React.Component {
      constructor(props) {
        super(props);
        this.array = ['가위','바위','보'];
        this.state = {
          user1 : '준비중',
          user2 : '준비중',
          value: '',
          result : '준비상태입니다',
        }
      }

      onSubmit = (e) => {
        e.preventDefault();
        let userAi = Math.ceil(Math.random() * 3);
        let resultValue = '';
        if(userAi - this.state.value === 0) {
          resultValue = '무승부하셨습니다';
        } else if((3 + userAi - this.state.value) % 3 === 2) {
          resultValue = 'USER2가 승리했습니다';
        } else {
          resultValue = 'USER1가 승리했습니다';
        }
        this.setState({
          user1 : this.array[userAi -1 ],
          user2 : this.array[this.state.value -1],
          result : resultValue,
        })
      };

      render() {
        return (
          <React.Fragment>
            <form onSubmit={this.onSubmit}>
              <button onClick={(e) => this.setState({value: 1})}>가위</button>
              <button onClick={(e) => this.setState({value: 2})}>바위</button>
              <button onClick={(e) => this.setState({value: 3})}>보</button>
            </form>
            <div>USER1는 {this.state.user1}, USER2는 {this.state.user2}입니다.</div>
            <div>{this.state.result}</div>
          </React.Fragment>
        );
      }
    }
  </script>
  <script type="text/babel">
    ReactDOM.render(<RockPaperScissors />, document.querySelector('#root'));
  </script>
</body>
</html>